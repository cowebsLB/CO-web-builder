# Browser Compatibility Targets

## Overview

Target browsers and minimum versions for websites generated by CO-web-builder.

## Target Browsers

### Desktop Browsers

#### Primary Targets (Full Support)

- **Chrome**: Latest 2 versions (current + previous)
- **Firefox**: Latest 2 versions (current + previous)
- **Safari**: Latest 2 versions (current + previous)
- **Edge**: Latest 2 versions (current + previous)

#### Secondary Targets (Best Effort)

- **Opera**: Latest version
- **Brave**: Latest version

### Mobile Browsers

#### Primary Targets

- **Chrome Mobile** (Android): Latest 2 versions
- **Safari Mobile** (iOS): Latest 2 versions
- **Samsung Internet**: Latest 2 versions
- **Firefox Mobile**: Latest version

### Minimum Versions

- **Chrome**: 90+
- **Firefox**: 88+
- **Safari**: 14+
- **Edge**: 90+
- **iOS Safari**: 14+
- **Chrome Android**: 90+

## Feature Support

### CSS Features

#### Fully Supported

- Flexbox (all properties)
- CSS Grid (all properties)
- Custom Properties (CSS Variables)
- Transforms (2D and 3D)
- Transitions
- Animations
- Border-radius
- Box-shadow
- Gradients (linear, radial)
- Media queries
- Pseudo-classes (:hover, :focus, :active, etc.)
- Pseudo-elements (::before, ::after)

#### Partially Supported (with fallbacks)

- CSS Filters (with fallback)
- Backdrop-filter (with fallback)
- Aspect-ratio (with padding-bottom fallback for older browsers)

#### Not Supported (warn user)

- Experimental features
- Browser-specific prefixes (avoid when possible)

### JavaScript Features

#### Fully Supported

- ES6+ features (arrow functions, classes, modules, etc.)
- Fetch API
- Promise/async-await
- Array methods (map, filter, reduce, etc.)
- Template literals
- Destructuring
- Spread operator

#### Polyfills Required

- Intersection Observer (for older browsers)
- ResizeObserver (for older browsers)
- Custom Events (for older browsers)

## Polyfill Strategy

### When to Use Polyfills

- **Feature Detection**: Detect if feature is supported
- **Conditional Loading**: Only load polyfills for browsers that need them
- **Performance**: Minimize polyfill size and impact

### Polyfill Sources

- **polyfill.io**: CDN-based polyfills (conditional loading)
- **core-js**: Comprehensive polyfill library
- **Custom Polyfills**: Minimal custom polyfills for specific features

### Implementation

```html
<!-- Conditional polyfill loading -->
<script>
  // Feature detection
  if (!window.fetch) {
    // Load fetch polyfill
    document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=fetch"><\/script>');
  }
</script>
```

### Polyfills Included (if needed)

- **Fetch API**: For older browsers
- **Promise**: For older browsers
- **IntersectionObserver**: For scroll animations
- **ResizeObserver**: For responsive components
- **Custom Events**: For event handling

## Testing Matrix

### Automated Testing

- **BrowserStack**: Cross-browser testing service
- **Sauce Labs**: Alternative testing service
- **Local Testing**: Test in local browsers

### Manual Testing Checklist

#### Desktop Browsers

- [ ] Chrome (latest)
- [ ] Chrome (previous version)
- [ ] Firefox (latest)
- [ ] Firefox (previous version)
- [ ] Safari (latest)
- [ ] Safari (previous version)
- [ ] Edge (latest)
- [ ] Edge (previous version)

#### Mobile Browsers

- [ ] Chrome Mobile (Android)
- [ ] Safari Mobile (iOS)
- [ ] Samsung Internet
- [ ] Firefox Mobile

#### Test Scenarios

- [ ] Layout rendering
- [ ] Responsive design (mobile, tablet, desktop)
- [ ] CSS features (flexbox, grid, animations)
- [ ] JavaScript functionality
- [ ] Form interactions
- [ ] Navigation
- [ ] Images and media
- [ ] Performance

## Browser Compatibility Warnings

### In-App Warnings

- **Unsupported Features**: Warn if using features not supported in target browsers
- **Polyfill Recommendations**: Suggest polyfills for unsupported features
- **Browser-Specific Issues**: Warn about known browser-specific issues

### Export Options

- **Include Polyfills**: Option to include polyfills in export
- **Target Browsers**: Select target browsers for export
- **Compatibility Report**: Generate compatibility report before export

## CSS Vendor Prefixes

### Strategy

- **Autoprefixer**: Use Autoprefixer for automatic prefixing
- **PostCSS**: Process CSS with PostCSS and Autoprefixer
- **Configuration**: Configure Autoprefixer with target browsers

### Implementation

```javascript
// PostCSS configuration
module.exports = {
  plugins: [
    require('autoprefixer')({
      browsers: [
        'Chrome >= 90',
        'Firefox >= 88',
        'Safari >= 14',
        'Edge >= 90'
      ]
    })
  ]
}
```

## Progressive Enhancement

### Approach

- **Base Functionality**: Ensure basic functionality works in all browsers
- **Enhanced Features**: Add enhanced features for modern browsers
- **Graceful Degradation**: Features degrade gracefully in older browsers

### Example

```css
/* Base styles (all browsers) */
.button {
  padding: 10px;
  background: #007bff;
}

/* Enhanced styles (modern browsers) */
@supports (backdrop-filter: blur(10px)) {
  .button {
    backdrop-filter: blur(10px);
  }
}
```

## Documentation

### User Documentation

- **Browser Support**: Document supported browsers
- **Known Issues**: Document known browser-specific issues
- **Workarounds**: Provide workarounds for browser issues

### Developer Documentation

- **Testing Guide**: Guide for testing in different browsers
- **Compatibility Matrix**: Detailed compatibility matrix
- **Polyfill Guide**: Guide for using polyfills

## Future Considerations

- **New Browser Versions**: Update targets as new versions release
- **Deprecated Browsers**: Remove support for deprecated browsers
- **New Features**: Evaluate new CSS/JS features for support
